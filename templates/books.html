{% extends "base.html" %}
{% block content %}

<div class="card floating">
  <div class="card-head">
    <div style="display:flex; align-items:center; gap:10px;">
      <i data-lucide="book-open" class="icon"></i>
      <div>
        <div class="tag">PDF</div>
        <div style="font-weight:900;">РӮЙХАТИ КИТОБҲО</div>
      </div>
    </div>

    <form method="get" action="/books" style="display:flex; gap:10px; align-items:center;">
      <input class="input" name="q" value="{{ q }}" placeholder="Номи китобро нависед...">
      <button class="btn" type="submit"><i data-lucide="search" class="icon"></i> Ҷустуҷӯ</button>
    </form>
  </div>

  <div class="card-body" style="display:grid; gap:12px;">
    {% if books %}
      {% for b in books %}
        <a class="blockbox" href="/static/{{ b.file_path }}" target="_blank" rel="noopener">
          <div style="font-weight:900;">{{ b.title }}</div>
          <div class="tag" style="margin-top:6px;">
            {% if b.grade %}Синф: {{ b.grade }}{% else %}Синф: —{% endif %}
          </div>
          <div class="tag" style="margin-top:10px; color: var(--accent2);">Кушодан PDF →</div>
        </a>
      {% endfor %}
    {% else %}
      <div class="blockbox" style="text-align:center;">
        Китоб ёфт нашуд.
      </div>
    {% endif %}
  </div>
</div>

<script>
  if (window.lucide) lucide.createIcons();
</script>

{% endblock %}
