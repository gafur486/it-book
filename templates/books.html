{% extends "base.html" %}
{% block content %}

<div class="rounded-3xl border border-slate-200 bg-white p-6
            dark:border-slate-800 dark:bg-slate-900/60">
  <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
    <div>
      <div class="text-xs tracking-wide text-slate-500 dark:text-slate-400">КИТОБҲО</div>
      <div class="text-xl font-extrabold text-slate-900 dark:text-white">РӮЙХАТИ КИТОБҲО</div>
    </div>

    <form class="flex gap-2" method="get" action="/books">
      <input name="q" value="{{ q }}"
             class="w-72 max-w-full px-4 py-2 rounded-2xl border border-slate-200 bg-slate-50 outline-none
                    dark:border-slate-800 dark:bg-slate-950/40"
             placeholder="Номи китобро нависед...">
      <button class="px-4 py-2 rounded-2xl border border-slate-200 bg-white font-bold hover:bg-slate-50
                     dark:border-slate-800 dark:bg-slate-900 dark:hover:bg-slate-800">
        ҶУСТУҶӮ
      </button>
    </form>
  </div>

  <div class="mt-6 grid gap-3">
    {% if books %}
      {% for b in books %}
        <a href="/static/{{ b.file_path }}" target="_blank" rel="noopener"
           class="block rounded-2xl border border-slate-200 p-4 hover:bg-slate-50
                  dark:border-slate-800 dark:hover:bg-slate-950/40">
          <div class="font-bold text-slate-900 dark:text-white">{{ b.title }}</div>
          <div class="mt-1 text-sm text-slate-600 dark:text-slate-300">
            {% if b.grade %}Синф: {{ b.grade }}{% else %}Синф: —{% endif %}
          </div>
          <div class="mt-2 text-xs text-indigo-600 dark:text-indigo-400">Кушодан PDF →</div>
        </a>
      {% endfor %}
    {% else %}
      <div class="rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-8 text-center
                  dark:border-slate-700 dark:bg-slate-950/30">
        Китоб ёфт нашуд.
      </div>
    {% endif %}
  </div>
</div>

{% endblock %}
